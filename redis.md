### 1.Redis 的使用场景

根据简历的写的业务回答，一般是缓存和分布式锁

- **缓存**：穿透、击穿、雪崩、双写一致、持久化、数据过期、淘汰策略

- **分布式锁**：setnx、redisson

### 2.缓存穿透

缓存穿透是指查询一个**不存在的数据**，mysql查询不到数据，也不会直接写入缓存，就会导致每次请求都查数据库。

可以通过**缓存空值**或者用**布隆过滤器**解决。

### 3.缓存击穿

指给某个key设置了过期时间，当**key过期**时，大量并发请求过来，把DB压垮。

可以使用**互斥锁**或者**逻辑过期**解决。

- 互斥锁：只让一个请求去查询数据库并重建缓存，其他请求等待，直到缓存重建完成后，直接从缓存中获取数据。（强一致性，性能差）
- 逻辑过期：设置key的同时设置一个过期时间字段一块存入缓存，查询时判断是否过期，过期则开新线程进行数据同步，当前线程返回改过期数据。（高可用性，性能高）

### 4.缓存雪崩

指同一时间**大量缓存key失效**或者**redis宕机**，大量请求到达数据库。

可以使用给不同key的TTL**添加随机值**、Redis**集群**或**多级缓存**解决。

**三种问题都可以用降级限流策略解决（保底策略）。**